#+TAGS: syslog rsyslog journalctl logrotate logger syslog-ng


* Logging
* Files
** Syslog
/etc/syslog.conf - this is the main syslog configuration file

** Syslog-ng
/etc/syslog-ng/syslog-ng.conf - this is the syslog-ng main configuration file, and specifies where log files shuld be placed

** rsyslog

** journalctl
/etc/systemd/journald.conf - this is the main systemd journal config file

** logrotate
/etc/logrotate.conf - the main configuration file for logroate
/etc/logroate.d/ - this holds service specific files, and these take precedence over logrotate.conf

* Cmds/Service
- [[file://home/crito/org/tech/monitoring/rsyslog.org][rsyslog]]
- [[file://home/crito/org/tech/cmds/journalctl.org][journalctl]]
- [[file://home/crito/org/tech/monitoring/logrotate.org][logrotate]]
- [[file://home/crito/org/tech/monitoring/syslog-ng.org][syslog-ng]]
- logger

* Lecture
* Tutorial
* Books
** [[file://home/crito/Documents/Tools/I_Heart_Logs.pdf][I Heart logs]]
Physical and Logical Logging
  - Physical - storing all changed data
  - Logical  - storing the sql cmd that causes the change

+ Primary Backup Model

Master --------> |
                 |
Slave  <-------- | The Log
                 |
Slave  <-------- |		 

+ State Machine Replication
  
Writes --------------------------> |
                                   |
         ----->   Peer   <-------- | 
         |                         | The Log
Reads -------->   Peer   <-------- |
         |                         |
         ----->   Peer   <-------- |
	 
+ Logging Protocols
- Paxos
- ZAB
- RAFT
- Viewstamped Replication
** [[file://home/crito/Documents/Linux/Red_Hat/Red_Hat_RHCSA_RHCE_7_Cert_Guide.pdf][Red Hat RHCSA/RHCE 7 Cert Guide]]
*** Logging
3 Types of Logging
  - Direct Write - application writes its own log files (Apache, Samba)
  - rsyslogd - this is the enhancement of syslogd, it takes care of centralized log files
  - journald - this is the systemd logging mechanism
    
journald is not persistent between reboots, journald messages are also forwarded to the rsyslogd. It is the rsyslogd that writes the messages to the files in /var/log

- System Log Files Overview
/var/log/messages - The most commonly used log file, it is the generic log file where most messages are written to.
/var/log/dmesg - Contains kernel log messages
/var/log/secure - Contains authentication related messages.
/var/log/boot.log - Look here for messages that are related to system startup
/var/log/audit/audit.log - Contains audit messages. SELinux writes to this file
/var/log/maillog - Look here for mail-related messages
/var/log/samba - Provides log files for samba service. 
/var/log/sssd - Contains messages that have been written by the sssd service, which plays an important role in the authentication process.
/var/log/cups - Contains messages generated by the print service
/var/log/httpd - Apache log file, these are created directly by Apache

- rsyslogd configuration
  - the file is /etc/rsyslogd.conf
* Links
