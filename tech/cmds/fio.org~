
url:http://freecode.com/projects/fio/

+ Fio is a powerful benchmarking tool. It has support for 19 different type of I/O engines. It can work on block devices and files.
+ Platforms:
  - Linux, FreeBSD, NetBSD, OpenBSD, OS X, OpenSolaris, AIX, HP-UX, Android and Windows.


* Usage 

+ First a directory has to be created that fio can use.
  - fio will create files and use this directory for testing.
+ In this directory now create a configuration file
[global]
ioengine=posixaio
rw=readwrite
size=1g
directory=${HOME}/fio
thread=1

+ Now we run the created file 

> fio <name.fio> --output=<output.txt>

or

> fio <name.fio> --output-format=json --output=<name.json>

** Reading Output
   
+ Higher output for bandwidth and lower values for latency constitute better results.

** Tests

+ Random read of 128mb
[random-read]
rw=randread
size=128m
directory=/tmp/fio-testing/data


+ Random read AIO
[random-read-aio]
ioengine=libaio
iodepth=8
direct=1
invalidate=1

invalidate - this causes the kernel buffer and page cache to be invalivated.
runtime - specifiy time for how long the test should run.
thinktime - inserts delay between IO requests, useful for simulating real world applications, where data would also be being read from disk.


* Links
[[https://www.linux.com/learn/inspecting-disk-io-performance-fio][Nice Overview]]

