#+TAGS: file txt search find coreutil inside_file grep egrep fgrep


* grep
* Description
* Usage

> grep [options] <pattern> <file>

** Using Regular Expressions
- ip addresses
#+BEGIN_SRC sh
grep -E '[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}' ip_addr.txt
#+END_SRC

** Search entire direcotry for pattern
#+BEGIN_SRC sh
grep crito /etc/*
#+END_SRC
will serach each file in directory for "crito" (case sensitive)

#+BEGIN_SRC sh
grep -i crito /etc/*
#+END_SRC
search the entire directory for "crito" (case insensitive)

#+BEGIN_SRC sh
grep -Ri crito /etc/*
#+END_SRC
search recusively any sub-directories for "crito" (case insensitive)

** Invert match
#+BEGIN_SRC sh
grep -i crito /etc/* | grep -v wheel
#+END_SRC
this will show all file that contain "crito" but exclude any that contain "wheel"

** OR
match one or another expression
#+BEGIN_SRC sh
sudo iwlist wlan0 scan | grep "Channel\|ESSID"
#+END_SRC
the \ is need to escape the | 

or with the -E switch
#+BEGIN_SRC sh
sudo iwlist wlan0 scan | grep "Channel|ESSID"
#+END_SRC
using the extended switch the | doesn't have to be escaped

or with the -e switch
#+BEGIN_SRC sh
sudo iwlist wlan0 scan | grep -e Channel -e ESSID
#+END_SRC
the -e switch takes only one pattern, but you can string multiple together
https://en.unoeuro.com/
** Print only the filenames
#+BEGIN_SRC sh
grep -rl
#+END_SRC

** Print lines around pattern
- number of lines around the match
#+BEGIN_SRC sh
grep -C 3 match test.txt
#+END_SRC
this will output the match line and 3 lines above and below

- only show lines above
#+BEGIN_SRC sh
grep -B 2 match test.txt
#+END_SRC

- only show lines after
#+BEGIN_SRC sh
grep -A 2 match test.txt
#+END_SRC

** Check without case sensitivity
#+BEGIN_SRC sh
grep -i "dhcp" /var/log/messages
#+END_SRC
this will search for any iteration of "dhcp" within the messages log file 

** Print out the line number of the find
#+BEGIN_SRC sh
grep -in "dhcp" /var/log/messages
#+END_SRC
i - case insensitivity
n - list the line number with the find

** Searching the org directory
- search the org directory
#+BEGIN_SRC sh
grep -n1 -rH TAGS ~/org | grep network 
#+END_SRC
n1 - this means only the first line is searched
r  - recursive search
H  - provide the file name that corresponds to the find

** using a file as input
#+BEGIN_SRC sh
grep -f grepinput.txt file_to_check.txt
#+END_SRC
if you have a complex pattern that you want to save and use often can be saved in a file to be used


** egrep
same as using the -e flag with grep

- using the pipe as an or
#+BEGIN_SRC sh
egrep -i 'hello|world' filename.txt
#+END_SRC
if lines that contain hello or world

- inverse search
#+BEGIN_SRC sh
egrep -v 'hello|world' filename.txt
#+END_SRC
this will return all lines that don't contain hello or world

* Lecture
* Tutorial
* Books
[[file://home/crito/Documents/Tools/Grep_Pocket_Reference.pdf][Grep Pocket Reference]]

* Links
