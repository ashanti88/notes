#+TAGS: file text text_manipulation text_substitution sed stream_editor


* sed
HomePage: [[https://www.gnu.org/software/sed/manual/sed.html][gnu.org/sed]]
* Description
Sed, short for stream editor, is a command line tool to manipulate text and files.

* Usage
- print the entire file
#+BEGIN_SRC sh
sed "" file.txt
#+END_SRC

- print a specific line
#+BEGIN_SRC sh
sed -n "4p" file.txt
#+END_SRC
this will print only line 4

- print a range of lines
#+BEGIN_SRC sh
sed -n "1,4p" file.txt
#+END_SRC
this will print line 1 through 4

- print line plus certain number of lines after
#+BEGIN_SRC sh
sed -n "2,+3p" file.txt
#+END_SRC
this print line 2 plus the next 3 lines

- only change a certain instance of a pattern
#+BEGIN_SRC sh
sed '0,/parttime/s/parttime/promotion/' employees.txt
#+END_SRC
this will only change the first instance of 'parttime' all others will remain unchanged

** Deleting Content
- this will delete the first line when printing to the screen
#+BEGIN_SRC sh
sed "1d" file.txt
#+END_SRC
this would output the file with the first line missing

- make the change apply to the file
#+BEGIN_SRC sh
sed -i "1d" file.txt
#+END_SRC
i - in-place

- delete lines that contain specific pattern
#+BEGIN_SRC sh
sed "/red fox/d" file.txt
#+END_SRC
this will delete all lines that contain "red fox"

** Replace Content
- replace all numbers with an underscore
#+BEGIN_SRC sh
sed -r "s/[0-9]{1,}/_/g" file.txt
#+END_SRC
this will change all numbers(of length of 1 or greater) to an underscore

- surround all numbers with brackets
#+BEGIN_SRC sh
sed -r "s/[0-9]{1,}/(&)/g" file.txt
#+END_SRC

** Writing to a file
#+BEGIN_SRC sh
sed 's/parttime/fulltime/w promotions.txt' employees.txt
#+END_SRC
this will change all employees who are parttime to full time and write it to the file promotions.txt, but the employees.txt file will not be changed

** Spacing
*** Double Space file
#+BEGIN_SRC sh
sed G file.txt
#+END_SRC
*** Double Space file with blank lines
#+BEGIN_SRC sh
> sed '/^$/d;G
#+END_SRC
*** Triple space file
#+BEGIN_SRC sh
sed 'G;G'
#+END_SRC
*** Undo Double spacing
#+BEGIN_SRC sh
sed 'n;d'
#+END_SRC
*** Insert blank line above regex
#+BEGIN_SRC sh
sed '/regex/{x;p;x;}'
#+END_SRC
*** Insert blank line after regex
#+BEGIN_SRC sh
sed '/regex/G'
#+END_SRC

** Numbering
*** Number each line of a file(number above)
#+BEGIN_SRC sh
sed = file.txt
#+END_SRC

*** Number each line(same line)
#+BEGIN_SRC sh
sed = file.txt | sed 'N;s/\n/\t/'
#+END_SRC

** Count lines
#+BEGIN_SRC sh
sed -n '$='
#+END_SRC

** Print specific lines of text
- print 20 - 25 from file.txt
#+BEGIN_SRC sh
sed -n 20,25p file.txt
#+END_SRC
* Lecture
* Tutorial
* Books
* Links
