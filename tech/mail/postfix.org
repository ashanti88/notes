useful commands

*Some useful postfix commands* postqueue -p = mailq    //*postqueue
-p* is the same as *mailq*

service postfix reload    //reload config service postfix restart 
 //restart postfix server

postconf  mail\_version      //View the postfix version postconf -d   
 //Show default postfix values postconf -n     //Show non default
postfix values

mailq     //list mail queue and MAIL\_ID's, list mail queue postqueue -p
//list mail queue and MAIL\_ID's, list mail queue postfix  flush   //
flush mail queue postqueue -f    //process the queue now postcat -q
MAIL\_ID     //read email from mail queue

postsuper -d MAIL\_ID       //To remove MAIL\_ID mail from the queue
postsuper -d ALL       //To remove all mail from the queue postsuper -d
ALL deferred        //To remove all mails in the deferred queue

postqueue -p | awk '/ [1]/ {print $7}' | sort | uniq -c | sort -n       
   //sort and count emails by "from address"

postqueue -p | grep ' [2]'|grep user@adminlogs.info|cut -f1 -d' ' |tr -d
\*|postsuper -d -          //removing all emails sent
by: [[mailto:user@adminlogs.info][user@adminlogs.info]]

postqueue -p | awk
'/ [3].*[[mailto:user@adminlogs.info][user@adminlogs.info]] / {print
$1}' | cut -d '!' -f 1 | postsuper -d -      //remove all email sent
from [[mailto:user@adminlogs.info][user@adminlogs.info]]

To delete all messages from the queue by a certain user: for i in
=postqueue -p | grep [user@domain.com](mailto:user@domain.com) | awk '{print $1}' | grep -v host | grep -v \\*=;
do postsuper -d $i; done

postqueue -p | grep ' [4]'|grep @adminlogs.info|cut -f1 -d' ' |tr -d
\*|postsuper -d -      //remove all email sent by domain adminlogs.info

postqueue -p | tail -n 1   //Mail queue stats short postqueue -p | grep
-c " [5]"    //number of emails in Mail queue

tail -f /var/log/maillog    //watch logs live

[1] 0-9,A-F

[2] A-Z0-9

[3] 0-9,A-F

[4] A-Z0-9

[5] A-Z0-9
