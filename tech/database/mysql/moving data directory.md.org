By default the data directory can be found in /var/lib/mysql .

This maybe moved due to size constraints.

*Overview of the procedure*

1. Move the MySQL database files from /var/lib/mysql to the new
partition.

2. Modify the .cnf file to reflect the new position.

3. Update any SELinux settings.

*Take a backup of the current MySQL data*

Stop the mysql service

> systemctl stop mysql.service

Copy files to backup location

> cp -r /var/lib/mysql <backup\_partition>

or

sql dump single database

> sqldump -u root -p[password] <database> > dumpfilename.sql

all databases

> sqldump -u root -p[password] --all-databases > /tmp/all-databases.sql

*Move MySQL data directory to new partition*

Create directory

> mkdir -p <new\_data\_directory>

> cd <new\_data\_directory>

> mv <mysql\_datadir> <new\_data\_directory>

> chown -R mysql:mysql <new\_data\_directory>

*Modify my.cnf and start MySQL*

> vi /etc/my.cnf

datadir=<new\_data\_directory>

socket=<new\_data\_directory/mysql.sock>

tmp=<new\_data\_directory>

> systemctl restart mysql.start

*SELinux context type for MySQL*

Check the selinux context before moving moving data directory.

> ls -Z
